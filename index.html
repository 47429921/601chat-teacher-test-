<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>测试</title>
  </head>
  <body>
  </body>
  <script>
    Notification.requestPermission().then(function(permission) {
      if(permission === 'granted'){
          console.log('用户允许通知');
      }else if(permission === 'denied'){
          console.log('用户拒绝通知');
      }
    });

    var n = new Notification('状态更新提醒',{
        body: '你的朋友圈有3条新状态，快去查看吧',
        tag: 'daxin',
        icon: 'lalala.jpg',
        requireInteraction: true,
        data: {
          url: 'https://www.baidu.com/'
        }
    })

    n.onclick = function(){
        window.open(n.data.url, '_blank');      // 打开网址
        n.close();                              // 并且关闭通知
    }

    setTimeout(function() {
      n.close();
    }, 3000);
  </script>
</html>
